<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spotify Clone</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="assets/logo.png">
</head>
<body>
    <div class="main">
        <!-- Side bar -->
        <div class="sidebar">
            <div class="nav">
                <div class="nav-option">
                    <i class="fa-solid fa-house"></i>
                    <a href="#">Home</a>
                </div>
                <div class="nav-option">
                    <i class="fa-solid fa-magnifying-glass"></i>
                    <a href="#">Search</a>
                </div>
            </div>
            <div class="library">
                <div class="options nav-option">
                    <div class="lib-option">
                        <img src="assets/library_icon.png" alt="">
                        <a href="#">Your Library</a>
                    </div>
                    <div class="icons">
                        <i class="fa-solid fa-plus"></i>
                    </div>
                </div>
                <div class="lib-box">
                    <div class="box">
                        <p class="box-p1">Create your first playlist</p>
                        <p class="box-p2">It's easy, we'll help you</p>
                        <button class="badge">Create playlist</button>
                    </div>
                    <div class="box">
                        <p class="box-p1">Let's find some podcast to follow</p>
                        <p class="box-p2">We'll keep you updated on new episodes</p>
                        <button class="badge">Browse podcasts</button>
                    </div>
                </div>
            </div>
            <div class="privacy-link">
                <a href="">Legal</a>
                <a href="">Privacy Center</a>
                <a href="">Privacy Policy</a>
                <a href="">Cookies</a>
                <a href="">About Ads</a>
                <a href="">Your Privacy Choices <i class="fa-solid fa-check"></i><i class="fa-solid fa-xmark"></i></a>
                <div>
                    <button class="global-btn"><i class="fa-solid fa-globe"></i> English</button>
                </div>
                
            </div>
        </div>

        <!-- Main container -->
        <div class="main-container">
            <div class="sticky-nav">
                <div class="sticky-nav-icon">
                    <img src="assets/backward_icon.png" alt="">
                    <img src="assets/forward_icon.png" class="hide" alt="">
                </div>
                <div class="sticky-nav-details">
                    <button class="badge explore-btn nav-item">Explore Premium</button>
                    <button class="badge nav-item dark-badge hide"><i class="fa-regular fa-circle-down"></i>Install App</button>
                    <i class="fa-regular fa-user nav-item"></i>
                </div>
            </div>
          
            <!-- music list Part1 -->
            <div class="music-container-header">
                <h3 class="music-category">Spotify Playlist</h3>
                <a class="show-all-link" href="">Show all</a>
            </div>
            <div class="music-container">
        
                <div class="music-card">
                    <div class="card">
                        <img src="assets/card2img.jpeg" alt="">
                        <p class="box-title">Top 50-Global</p>
                        <p class="box-info">Your daily updates of the most played tracks...</p>
                    </div>
                </div>
                <div class="music-card">
                    <div class="card">
                        <img src="assets/card4img.jpeg" alt="">
                        <p class="box-title">Top 50-Global</p>
                        <p class="box-info">Your daily updates of the most played tracks...</p>
                    </div>
                </div>
                <div class="music-card">
                    <div class="card">
                        <img src="assets/card3img.jpeg" alt="">
                        <p class="box-title">Top 50-Global</p>
                        <p class="box-info">Your daily updates of the most played tracks...</p>
                    </div>
                </div>
                <div class="music-card">
                    <div class="card">
                        <img src="assets/card1img.jpeg" alt="">
                        <p class="box-title">Top 50-Global</p>
                        <p class="box-info">Your daily updates of the most played tracks...</p>
                    </div>
                </div>
                <div class="music-card">
                    <div class="card">
                        <img src="assets/card1img.jpeg" alt="">
                        <p class="box-title">Top 50-Global</p>
                        <p class="box-info">Your daily updates of the most played tracks...</p>
                    </div>
                </div>
            </div>

            <!-- music list Part2 -->
            <div class="music-container-header">
                <h3 class="music-category">Top Bangla Trending</h3>
                <a class="show-all-link" href="">Show all</a>
            </div>
            <div class="music-container">
        
                <div class="music-card">
                    <div class="card">
                        <img src="assets/card5img.jpeg" alt="">
                        <p class="box-title">Top 50-Global</p>
                        <p class="box-info">Your daily updates of the most played tracks...</p>
                    </div>
                </div>
                <div class="music-card">
                    <div class="card">
                        <img src="assets/card6img.jpeg" alt="">
                        <p class="box-title">Top 10-Indian</p>
                        <p class="box-info">Your daily updates of the most played tracks...</p>
                    </div>
                </div>
                <div class="music-card">
                    <div class="card">
                        <img src="assets/card5img.jpeg" alt="">
                        <p class="box-title">Top 50-Global</p>
                        <p class="box-info">Your daily updates of the most played tracks...</p>
                    </div>
                </div>
                <div class="music-card">
                    <div class="card">
                        <img src="assets/card6img.jpeg" alt="">
                        <p class="box-title">Top 50-Global</p>
                        <p class="box-info">Your daily updates of the most played tracks...</p>
                    </div>
                </div>
                <div class="music-card">
                    <div class="card">
                        <img src="assets/card5img.jpeg" alt="">
                        <p class="box-title">Top 50-Global</p>
                        <p class="box-info">Your daily updates of the most played tracks...</p>
                    </div>
                </div>
            </div>

            <footer class="main-footer">
                <div class="line"></div>
                <div class="company-container">
                    <div class="company-title">
                        <h3>Company</h3>
                        <p>About</p>
                        <p>Jobs</p>
                        <p>For the Record</p>
                    </div>
                    <div class="social-media-icon">
                        <i class="fa-brands fa-square-instagram"></i>
                        <i class="fa-brands fa-twitter"></i>
                        <i class="fa-brands fa-facebook"></i>
                    </div>
                </div>
            </footer>  
        </div>
        <!-- Music Player -->

       <!-- <div class="music-player">
            <div class="album">
            </div>

            <div class="player">
                <div class="player-controls">
                    <img src="assets/player_icon1.png" class="player-control-icon" alt="">
                    <img src="assets/player_icon2.png" class="player-control-icon" alt="">
                    <img src="assets/player_icon3.png" class="player-control-icon" style="opacity: 1; height:2rem;" alt="">
                    <img src="assets/player_icon4.png" class="player-control-icon" alt="">
                    <img src="assets/player_icon5.png" class="player-control-icon" alt="">
                </div>
                <div class="playback-bar">
                    <audio autoplay>
                        <source src="assets/batpar-prem-147375.mp3" type="audio/ogg">
                      </audio>
                    <span class="curr-time">0:00</span>
                    <input type="range" name="" id="" class="progress-bar" step="1">
                    <span class="tot-time">0:00</span>
                </div>
            </div>


            <div class="controls">
                
            </div> 

        </div> -->
        <audio id="song">
            <source src="assets/song1.mp3" type="audio/mpeg">
        </audio>
        <div class="playlist" id="playlist"></div>
        <div class="music-player">
            <div class="album">
                <p>Left</p>
            </div>
            <div class="player">
                <div class="player-controls">
                    <i onclick="playPrevious()" class="fa-solid fa-backward-step"></i>
    
                    <i onclick="playPause()" id="ctrlicon" class="fa-regular fa-circle-play" style="opacity: 1;"></i>
    
                    <i onclick="playNext()" class="fa-solid fa-forward-step"></i>
    
                </div>
                <div class="playback-bar">
                      
                    <span id="curr-time">0:00</span>
                    
                    <input type="range" name="" id="progress-bar" class="progressbar" step="1">
                    
                    <span id="tot-time">0:00</span>
                </div>
            </div>
            <div class="controls">
                    
            </div>
        </div> 
    </div> 

    <script>
        let progress = document.getElementById('progress-bar');
        let song = document.getElementById('song');
        let ctrlicon = document.getElementById('ctrlicon');
        let currentTimeDisplay = document.getElementById('curr-time');
        let remainingTimeDisplay = document.getElementById('tot-time');
        let currentSongIndex = 0;
        let playlist = ["assets/song1.mp3",
        "assets/song2.mp3",
        "assets/song3.mp3","assets/song4.mp3"];

        song.onloadedmetadata = function(){
            progress.max = song.duration;
            progress.value = song.currentTime;

        }

        function loadSong(songIndex){
            song.src = playlist[songIndex];
            song.load();
            song.play();
            

        }

        function playSong(){
            song.play();
            ctrlicon.classList.add("fa-circle-pause");
            ctrlicon.classList.remove("fa-circle-play");
            progress.style.setProperty('--progress-color', '#1bd760');
        }

        function playPause(){
            if(ctrlicon.classList.contains("fa-circle-pause")){
                song.pause();
                ctrlicon.classList.remove("fa-circle-pause");
                ctrlicon.classList.add("fa-circle-play");
                progress.style.setProperty('--progress-color', 'white');
                
            }
            else{
                playSong();

            }

            // else{
            //     song.play();
            //     ctrlicon.classList.add("fa-circle-pause");
            //     ctrlicon.classList.remove("fa-circle-play");
            //     progress.style.setProperty('--progress-color', '#1bd760');

            // }
        }
        function playNext() {
            currentSongIndex = (currentSongIndex + 1) % playlist.length;
            loadSong(currentSongIndex);
        }

        function playPrevious() {
            currentSongIndex = (currentSongIndex - 1 + playlist.length) % playlist.length;
            loadSong(currentSongIndex);
        }

        if(song.play()){
            setInterval(()=>{
              progress.value = song.currentTime;
              currentTimeDisplay.textContent = formatTime(song.currentTime);
              remainingTimeDisplay.textContent = formatTime(song.duration - song.currentTime);
            },500)
        }
        function formatTime(seconds) {
            let minutes = Math.floor(seconds / 60);
            let secs = Math.floor(seconds % 60);
            return `${minutes}:${secs < 10 ? '0' : ''}${secs}`;
        }

        progress.onchange = function(){
            // song.play();
            song.currentTime = progress.value;
            // ctrlicon.classList.add("fa-circle-pause");
            // ctrlicon.classList.remove("fa-circle-play");
            playSong();

        }
    </script>
    
    <script src="https://kit.fontawesome.com/c584c820c1.js" crossorigin="anonymous"></script>
    
</body>
</html>